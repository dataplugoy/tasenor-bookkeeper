{
  "rules": [
    {
      "name": "Coinbase withdrawal (v1)",
      "filter": "type == 'withdrawal'",
      "result": [
        {
          "reason": "type",
          "type": "'external'",
          "asset": "unit",
          "amount": "-amount"
        },
        {
          "reason": "type",
          "type": "isCurrency(unit) ? 'currency' : 'crypto'",
          "asset": "unit",
          "amount": "amount"
        }
      ]
    },
    {
      "name": "Coinbase deposit (v1)",
      "filter": "type == 'deposit'",
      "result": [
        {
          "reason": "type",
          "type": "'external'",
          "asset": "unit",
          "amount": "-amount"
        },
        {
          "reason": "type",
          "type": "isCurrency(unit) ? 'currency' : 'crypto'",
          "asset": "unit",
          "amount": "amount"
        }
      ]
    },
    {
      "name": "Trade (v1)",
      "filter": "type == 'match'",
      "result": [
        {
          "reason": "'trade'",
          "type": "isCurrency(unit) ? 'currency' : 'crypto'",
          "asset": "unit",
          "amount": "amount"
        }
      ]
    },
    {
      "name": "Trading fee (v1)",
      "filter": "type == 'fee'",
      "result": [
        {
          "reason": "'fee'",
          "type": "isCurrency(unit) ? 'currency' : 'crypto'",
          "asset": "unit",
          "amount": "-amount"
        }
      ]
    },

    {
      "name": "Rewards (v2)",
      "filter": "type == 'Learning Reward'",
      "result": [
        {
          "data": {
            "text": "Notes",
            "currency": "Currency",
            "currencyValue": "Price * 100"
          },
          "type": "'crypto'",
          "asset": "Asset",
          "amount": "Quantity",
          "reason": "'income'"
        },
        {
          "type": "'statement'",
          "asset": "'LEARNING_REWARD'",
          "reason": "'income'",
          "amount": "null"
        }
      ]
    },
    {
      "name": "Selling (v2)",
      "filter": "type == 'Sell'",
      "result": [
        {
          "data": {
            "text": "Notes"
          },
          "type": "'crypto'",
          "asset": "Asset",
          "amount": "-Quantity",
          "reason": "'trade'"
        },
        {
          "type": "'currency'",
          "asset": "Currency",
          "amount": "Total",
          "reason": "'trade'"
        }
      ]
    },
    {
      "name": "Buying (v2)",
      "filter": "type == 'Buy'",
      "result": [
        {
          "data": {
            "text": "Notes"
          },
          "type": "'crypto'",
          "asset": "Asset",
          "amount": "Quantity",
          "reason": "'trade'"
        },
        {
          "type": "'currency'",
          "asset": "Currency",
          "amount": "-Total",
          "reason": "'trade'"
        }
      ]
    }
  ]
}